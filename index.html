<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <style>
        body { font-family: sans-serif; margin: 0; background: transparent; display: flex; gap: 15px; justify-content: center; }
        .card { 
            background: white; border-radius: 15px; padding: 15px; width: 100px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1); display: flex; flex-direction: column; align-items: center;
        }
        .icon { width: 40px; height: 40px; margin-bottom: 8px; border-radius: 50%; }
        .count { font-size: 16px; font-weight: bold; color: #333; }
        .label { font-size: 10px; color: #999; text-transform: uppercase; }
        /* 各ブランドカラーの線 */
        .yt { border-bottom: 4px solid #FF0000; }
        .ig { border-bottom: 4px solid #E1306C; }
        .tk { border-bottom: 4px solid #010101; }
    </style>
</head>
<body>
    <div class="card yt">
        <img class="icon" src="https://www.google.com/s2/favicons?sz=64&domain=youtube.com">
        <span id="yt-count" class="count">-</span>
        <span class="label">YouTube</span>
    </div>
    <div class="card ig">
        <img class="icon" src="https://www.google.com/s2/favicons?sz=64&domain=instagram.com">
        <span id="ig-count" class="count">-</span>
        <span class="label">Instagram</span>
    </div>
    <div class="card tk" style="opacity: 0.7;">
        <img class="icon" src="https://www.google.com/s2/favicons?sz=64&domain=tiktok.com">
        <span class="count" style="font-size: 14px;">設定中</span>
        <span class="label">TikTok</span>
    </div>

    <script>
        const params = new URLSearchParams(window.location.search);
        const gasUrl = "https://script.google.com/macros/s/AKfycbwl5D261_RYcQ2ikXnjTFSvti60ZdVUf4JURcL2uT9J0R9LKdhP33xzAumZGmR1582CfA/exec";

        fetch(`${gasUrl}?ytId=${params.get('yt')}&igId=${params.get('ig')}&tkId=${params.get('tk')}`)
            .then(res => res.json())
            .then(data => {
                const format = (num) => isNaN(num) ? num : Number(num).toLocaleString();
                document.getElementById('yt-count').innerText = format(data.youtube);
                document.getElementById('ig-count').innerText = format(data.instagram);
                document.getElementById('tk-count').innerText = format(data.tiktok);
            });
    </script>
</body>
</html>
